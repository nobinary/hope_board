(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,a){e.exports=a(280)},138:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},182:function(e,t){},184:function(e,t){},221:function(e,t){},222:function(e,t){},279:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),o=a(65),c=a.n(o),l=a(14),i=(a(138),a(1)),u=a.n(i),d=a(4),p=a(5),m=a(6),h=a(8),f=a(7),b=a(13),v=a(26),g=a(129),E=a.n(g),k=function(){return localStorage.getItem("token")||null},y="localhost"===window.location.hostname?"http://localhost:3000":"http://hope-board-api.herokuapp.com";console.log("createApi running..."),n=E.a.create({baseURL:y,headers:{Authorization:"Bearer ".concat(k()),"Access-Control-Allow-Origin":"*"}});var w=n,M=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/notes");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,w.get("/notes/".concat(t));case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,w.post("/notes",t);case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(t.note.id),e.prev=2,e.next=5,w.put("/notes/".concat(t.note.id),t);case 5:return a=e.sent,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,w.delete("/notes/".concat(t.note_id));case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/mine/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user_id?"":"/anonymous",e.prev=1,e.next=4,w.post("".concat(a,"/likes"),t);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user_id?"":"/anonymous",e.prev=1,e.next=4,w.post("".concat(a,"/likes/delete"),t);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,w.get("/users/".concat(t));case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.put("/users/".concat(t),{user:a,password:n});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,w.post("users/register",t);case 4:return a=e.sent,localStorage.setItem("token",a.data.token),e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signInUser credentials",t),e.prev=1,e.next=4,w.post("users/login",t);case 4:return a=e.sent,e.next=7,localStorage.setItem("token",a.data.token);case 7:return n.defaults.headers.Authorization="Bearer ".concat(k()),e.abrupt("return",a.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.clear();case 3:return e.abrupt("return",!0);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),F=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,a=e.clearUser,n=e.userId;D(n).then((function(){return a()})).finally((function(){return t.push("/")}))}},{key:"render",value:function(){return""}}]),a}(r.Component),B=Object(v.f)(F),q=(a(160),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e="hide";this.props.menuVisibility&&(e="show");var t=this.props.userId?s.a.createElement("h2",null,s.a.createElement(l.b,{className:"link",to:"/myboard"},"My Board")):null,a=this.props.userId?s.a.createElement("h2",null,s.a.createElement(l.b,{className:"link",to:"/myProfile"},"My Profile")):null,n=this.props.userId?s.a.createElement("h2",null,s.a.createElement(l.b,{className:"link",to:"/logout"},"Logout")):s.a.createElement("h2",null,s.a.createElement(l.b,{className:"link",to:"/login"},"Login")),r=this.props.userId?null:s.a.createElement("h2",null,s.a.createElement(l.b,{className:"link",to:"/register"},"Register"));return s.a.createElement("div",{className:"menu-nav"},s.a.createElement("div",{id:"flyoutMenu",onMouseUp:this.props.handleMouseDown,className:e},s.a.createElement("h2",null,s.a.createElement(l.b,{className:"link",to:"/"},"Home")),t,a,n,r))}}]),a}(r.Component)),P=(a(161),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("a",{src:"https://i.imgur.com/p9P6bPo.png",id:"hamburgerButton",onMouseUp:this.props.handleMouseDown},"NoteBoard")}}]),a}(r.Component)),z=(a(162),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(p.a)(this,a),(r=t.call(this,e,n)).state={visible:!1},r.handleMouseDown=r.handleMouseDown.bind(Object(b.a)(r)),r.toggleMenu=r.toggleMenu.bind(Object(b.a)(r)),r}return Object(m.a)(a,[{key:"handleMouseDown",value:function(e){this.toggleMenu(),console.log("Clicked"),e.stopPropagation()}},{key:"toggleMenu",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(P,{handleMouseDown:this.handleMouseDown}),s.a.createElement(q,{userId:this.props.userId,handleMouseDown:this.handleMouseDown,menuVisibility:this.state.visible}))}}]),a}(r.Component)),R=(a(163),a(25)),T=a.n(R),V=a(12),X=(a(81),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getNote=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("got note!"+n.props.note_id),e.next=3,O(n.props.note_id);case 3:t=e.sent,console.log(t),n.setState((function(e){return{content:t.data.content}}));case 6:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.setState(Object(V.a)({},e.target.name,e.target.value))},n.onNoteSubmit=function(e){e.preventDefault();var t=n.state,a=t.note_id,r=t.content;console.log(a),j({note:{id:a,content:r}}).then((function(e){console.log(e),n.handleCloseModal(),n.props.refresh()})).catch((function(e){console.error(e)}))},n.state={showModal:!1,user_id:n.props.userId,note_id:n.props.note_id,content:""},n.handleOpenModal=n.handleOpenModal.bind(Object(b.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(b.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getNote()}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"render_update_btn",value:function(){this.props.update_btn;return"true"===this.props.update_btn?s.a.createElement("button",Object(V.a)({id:"update-btn",className:"".concat(this.props.color),onClick:this.updateClick,value:this.props.userId,name:this.props.note_id},"onClick",this.handleOpenModal),"Update"):null}},{key:"render",value:function(){return s.a.createElement("div",null,this.render_update_btn(),s.a.createElement(T.a,{isOpen:this.state.showModal,ariaHideApp:!1,transparent:!0,contentLabel:"Minimal Modal Example",className:" Modal ".concat(this.props.color),overlayClassName:"edit-overlay",onRequestClose:this.handleCloseModal},s.a.createElement("form",{className:"create-form",onSubmit:this.onNoteSubmit},s.a.createElement("textarea",{type:"text",onChange:this.handleChange,name:"content",value:this.state.content,className:"input  ".concat(this.props.color),required:!0}),s.a.createElement("div",{className:"post-cont"},s.a.createElement("button",{type:"submit",id:"submit",className:"btn btn-default"},"Update"))),s.a.createElement("button",{id:"close-button",className:"btn btn-default",onClick:this.handleCloseModal},"Close")))}}]),a}(s.a.Component)),Z=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({num_likes:n.props.num_likes,user_liked:n.props.user_liked,delete_btn:n.props.delete_btn,update_btn:n.props.update_btn,userId:n.props.userId})},n.deleteClick=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user_id:t.target.value,note_id:t.target.name},e.next=3,C(a);case 3:n.handleCloseModal(),n.props.refresh();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateClick=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("modal works");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderBtn=function(){console.log();n.state.delete_btn;return"true"===n.state.delete_btn?s.a.createElement("button",{className:"delete-btn",onClick:n.deleteClick,value:n.props.userId,name:n.props.note_id},"delete"):null},n.clickLike=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={user_id:n.props.userId,note_id:t.target.name},!1!==n.state.user_liked){e.next=14;break}return e.prev=2,e.next=5,I(a);case 5:201===e.sent.status&&n.setState((function(e){return{num_likes:e.num_likes++,user_liked:!0}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.setState({error_msg:e.t0});case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,x(a);case 17:200===e.sent.status&&n.setState((function(e){return{num_likes:e.num_likes--,user_liked:!1}})),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),n.setState({error_msg:e.t1});case 24:n.props.userId||n.props.trackAnons(Number(a.note_id)),n.props.closeModal&&(n.handleCloseModal(),n.props.refresh());case 26:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])})));return function(t){return e.apply(this,arguments)}}(),n.state={user_liked:null,num_likes:0,error_msg:null,delete_btn:!1,update_btn:!1,showModal:!1,userId:null},n.handleOpenModal=n.handleOpenModal.bind(Object(b.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(b.a)(n)),n}return Object(m.a)(a,[{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e;return this.props.top&&(e={position:"relative",top:"".concat(this.props.top,"px"),left:"".concat(this.props.left,"px"),transform:"rotate(".concat(this.props.rotate,"deg)"),zIndex:"".concat(this.props.zIndex)}),s.a.createElement("div",{id:"note_main",style:e||null},s.a.createElement(T.a,{isOpen:this.state.showModal,contentLabel:"Minimal Modal",className:"main_note ".concat(this.props.color),id:"Modal",overlayClassName:"Overlay",ariaHideApp:!1,onRequestClose:this.handleCloseModal,setUser:this.setUser},s.a.createElement("button",{onClick:this.handleCloseModal,id:"close-button-2",className:"btn btn-default"},"X"),s.a.createElement("div",{className:"cont-big-note"},s.a.createElement("p",null,this.props.content)),s.a.createElement("div",{className:"like_box"},s.a.createElement("p",{className:"like_content"},"Likes: ",this.state.num_likes),this.renderBtn(),s.a.createElement("div",{className:"like-buttons"},s.a.createElement("div",{className:"unliked-heart-cont"},s.a.createElement("img",{src:this.state.user_liked?"https://i.imgur.com/Yv7Nr4B.png":"https://i.imgur.com/O92Pzls.png",onClick:this.clickLike,className:"like-button btn-default",value:this.props.userId,name:this.props.note_id,alt:"corkboard"})),s.a.createElement("div",{className:"liked-heart-cont"}))),s.a.createElement("div",{className:"date-from-big"},s.a.createElement("div",{className:"author-text"},s.a.createElement("p",null,this.props.user_name)),s.a.createElement("div",{className:"date-content"},s.a.createElement("p",null,this.props.ago_string))),s.a.createElement(X,{note_id:this.props.note_id,color:this.props.color,refresh:this.props.refresh,update_btn:this.props.update_btn})),s.a.createElement("div",{className:"main_note ".concat(this.props.color),onClick:this.handleOpenModal},s.a.createElement("div",{className:"text-content"},s.a.createElement("p",null,this.props.content)),s.a.createElement("div",{className:"date-from"},s.a.createElement("div",{className:"author-text"},s.a.createElement("p",null,this.props.user_name)),s.a.createElement("div",{className:"date-content"},s.a.createElement("p",null,this.props.ago_string)))))}}]),a}(r.Component),H=(a(173),a(174),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(V.a)({},e.target.name,e.target.value))},n.assignColor=function(){return["blue","green","pink","yellow","orange"][Math.floor(5*Math.random())]},n.onNoteSubmit=function(e){e.preventDefault();var t=n.state,a=t.user_id,r=t.content;console.log(a);var s={note:{user_id:n.props.userId,content:r,color:n.state.color}};N(s).then((function(e){console.log(e),n.handleCloseModal(),n.props.refresh()})).catch((function(e){console.error(e)}))},n.state={showModal:!1,user_id:n.props.userId,content:"",color:n.assignColor()},n.handleOpenModal=n.handleOpenModal.bind(Object(b.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(b.a)(n)),n}return Object(m.a)(a,[{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1,color:this.assignColor(),content:""})}},{key:"render",value:function(){var e=this.state,t=(e.user_id,e.content),a=e.color;return s.a.createElement("div",null,s.a.createElement("img",{onClick:this.handleOpenModal,src:"https://i.imgur.com/jyjtEOG.png",id:"create-icon",className:"img-responsive",alt:"black plus button to create a post"}),s.a.createElement(T.a,{color:a,isOpen:this.state.showModal,contentLabel:"Minimal Modal",className:"Modal  ".concat(a),modalColor:a,overlayClassName:"Overlay",ariaHideApp:!1,onRequestClose:this.handleCloseModal},s.a.createElement("div",{className:"button-contain"},s.a.createElement("button",{onClick:this.handleCloseModal,className:"btn btn-default",id:"close-button"},"X")),s.a.createElement("form",{className:"create-form",onSubmit:this.onNoteSubmit},s.a.createElement("textarea",{type:"text",onChange:this.handleChange,name:"content",value:t,placeholder:"Write thoughts and ideas here...",className:"input  ".concat(a),required:!0}),s.a.createElement("div",{className:"post-cont"},s.a.createElement("button",{type:"submit",id:"submit",className:"btn btn-default"},"Post")))))}}]),a}(s.a.Component)),W=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).state={showModal:!1},e.handleOpenModal=e.handleOpenModal.bind(Object(b.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(b.a)(e)),e}return Object(m.a)(a,[{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("img",{onClick:this.handleOpenModal,src:"https://i.imgur.com/I2oqk60.png",id:"about-icon",className:"img-responsive",alt:"black info icon that directs you to how website works"}),s.a.createElement(T.a,{isOpen:this.state.showModal,contentLabel:"Minimal Modal Example",className:"Modal blue",overlayClassName:"Overlay",onRequestClose:this.handleCloseModal},s.a.createElement("div",{className:"hiw-header"},"Welcome to MindBoard!"),s.a.createElement("main",{className:"hiw-body"},s.a.createElement("p",null,"At MindBoard we understand lorem ipsum dolor ipset."),s.a.createElement("p",null,"Browse and click on any note to see what it says."),s.a.createElement("p",null,"If you register, you can access to create and like notes!"),s.a.createElement("p",null,"Once you login, you will have access to MyBoard, which saves all of your posts and favorites.")),s.a.createElement("button",{id:"close-button",className:"btn btn-default",onClick:this.handleCloseModal},"Close")))}}]),a}(s.a.Component);var J=function(e){return s.a.createElement("div",{id:"footer_main"},e.userId&&s.a.createElement(H,{userId:e.userId,refresh:e.refresh}),s.a.createElement(W,null))},Y=(a(82),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getNotesFromApi=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,console.log(t),n.setState((function(e){return{notes:t.data}}));case 5:case"end":return e.stop()}}),e)}))),n.renderNotes=function(){var e=n.props.history;if(n.state.notes&&n.state.notes.length>0)return n.state.notes.map((function(t,a){return s.a.createElement(Z,{key:t.id,note_id:t.id,user_id:t.user_id,user_name:t.user_name,content:t.content,color:t.color,num_likes:t.num_likes,created_at:t.created_at,ago_string:t.ago_string,history:e,activeId:n.props.userId,trackAnons:n.props.trackAnons,userId:n.props.userId,update_btn:"false",user_liked:n.props.anonLikes.includes(t.id)||t.user_liked,top:Math.floor(60*Math.random())-30,left:Math.floor(60*Math.random())-30,rotate:Math.floor(10*Math.random())*(Math.random()>.5?-1:1),zIndex:n.state.notes.length-a,refresh:n.getNotesFromApi})}))},n.state={notes:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getNotesFromApi()}},{key:"render",value:function(){return s.a.createElement("div",{id:"fp_main"},s.a.createElement("img",{id:"background",className:"img-responsive",src:"https://i.imgur.com/V324XgZ.jpg",alt:"brown corkboard background"}),s.a.createElement("div",{className:"board-menu"},s.a.createElement(z,{userId:this.props.userId})),s.a.createElement("div",{className:"board-box"},s.a.createElement("div",{className:"notes"},this.renderNotes())),s.a.createElement(J,{userId:this.props.userId,refresh:this.getNotesFromApi}))}}]),a}(s.a.Component)),G=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=e.props,a=t.label;(0,t.onClick)(a)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.onClick,t=this.props,a=t.activeTab,n=t.label,r="tab-list-item";return a===n&&(r+="tab-list-active"),s.a.createElement("li",{className:r,onClick:e},n)}}]),a}(r.Component),$=(a(175),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onClickTabItem=function(e){n.setState({activeTab:e})},n.state={activeTab:n.props.children[0].props.label},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.onClickTabItem,t=this.props.children,a=this.state.activeTab;return s.a.createElement("div",{className:"tabs"},s.a.createElement("ul",{className:"tab-list tab-ltr"},t.map((function(t){var n=t.props.label;return s.a.createElement(G,{activeTab:a,key:n,label:n,onClick:e})}))),s.a.createElement("div",{className:"tab-content"},t.map((function(e){if(e.props.label===a)return e.props.children}))))}}]),a}(r.Component)),K=(a(83),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getMyBoard();case 1:case"end":return e.stop()}}),e)}))),n.getMyBoard=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n.state.userId);case 2:t=e.sent,console.log(t),n.setState((function(e){return{myNotes:t.data.notes,myFavorites:t.data.favorites}}));case 5:case"end":return e.stop()}}),e)}))),n.renderMyNotes=function(){var e=n.props.history;if(n.state.myNotes&&n.state.myNotes.length>0)return n.state.myNotes.map((function(t,a){return s.a.createElement(Z,{key:t.id,note_id:t.id,user_id:t.user_id,userId:n.props.userId,content:t.content,color:t.color,num_likes:t.num_likes,user_liked:t.user_liked,created_at:t.created_at,history:e,refresh:n.getMyBoard,delete_btn:"true",update_btn:"true",top:Math.floor(60*Math.random())-30,left:Math.floor(60*Math.random())-30,rotate:Math.floor(10*Math.random())*(Math.random()>.5?-1:1),zIndex:n.state.myNotes.length-a})}))},n.renderMyFavorites=function(){var e=n.props.history;if(n.state.myFavorites&&n.state.myFavorites.length>0)return n.state.myFavorites.map((function(t,a){return s.a.createElement(Z,{key:t.id,note_id:t.id,user_id:t.user_id,userId:n.props.userId,setUser:n.setUser,content:t.content,color:t.color,num_likes:t.num_likes,created_at:t.created_at,history:e,user_liked:!0,closeModal:!0,refresh:n.getMyBoard,delete_btn:"false",update_btn:"false",top:Math.floor(60*Math.random())-30,left:Math.floor(60*Math.random())-30,rotate:Math.floor(10*Math.random())*(Math.random()>.5?-1:1),zIndex:n.state.myFavorites.length-a})}))},n.state={myNotes:[],myFavorites:[],userId:n.props.userId},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"myboard_main"},s.a.createElement("img",{id:"background",className:"img-responsive",src:"https://i.imgur.com/V324XgZ.jpg",alt:"brown corkboard background"}),s.a.createElement("div",{className:"board_menu"},s.a.createElement(z,{userId:this.props.userId})),s.a.createElement("div",{className:"myboard"},s.a.createElement("div",{className:"mylists"},s.a.createElement($,null,s.a.createElement("div",{className:"posts-tab",label:"My Posts"},s.a.createElement("div",{className:"posts-tab"}),this.renderMyNotes()),s.a.createElement("div",{className:"fav-tab",label:"My Favorites"},this.renderMyFavorites()))))),s.a.createElement(J,{userId:this.props.userId,refresh:this.getMyBoard}))}}]),a}(s.a.Component)),Q=(a(176),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.userId&&n.getUser()},n.getUser=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n.props.userId);case 2:t=e.sent,n.setState({userName:t.data.name,userEmail:t.data.email});case 4:case"end":return e.stop()}}),e)}))),n.submitUserUpdate=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:n.state.userName,email:n.state.userEmail},e.prev=2,e.next=5,U(n.props.userId,a,n.state.password);case 5:r=e.sent,console.log("submit: ",r),r&&n.setState({message:"User information updated."}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),n.setState({message:"Incorrect password. Please try again."});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.props.message&&n.setState({message:""}),n.setState(Object(V.a)({},e.target.name,e.target.value))},n.state={userName:"",userEmail:"",password:"",message:"",userId:n.props.userId},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"myboard_main"},s.a.createElement("img",{id:"background",className:"img-responsive",src:"https://i.imgur.com/V324XgZ.jpg",alt:"brown corkboard background"}),s.a.createElement("div",{className:"board_menu"},s.a.createElement(z,{userId:this.props.userId})),s.a.createElement("div",{className:"myboard"},s.a.createElement("div",{className:"board-box"},s.a.createElement("div",{className:"profile p_modal"},s.a.createElement("p",{className:"p_header"},"My Profile:"),s.a.createElement("form",{className:"update-form",onSubmit:function(t){return e.submitUserUpdate(t)}},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"userName"},"User name:"),s.a.createElement("input",{type:"text",onChange:function(t){return e.handleChange(t)},name:"userName",value:this.state.userName,required:!0})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"userEmail"},"E-mail:"),s.a.createElement("input",{type:"text",onChange:function(t){return e.handleChange(t)},name:"userEmail",value:this.state.userEmail,required:!0})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"password"},"Password:"),s.a.createElement("input",{type:"password",onChange:function(t){return e.handleChange(t)},name:"password",value:this.state.password,required:!0})),s.a.createElement("div",null,this.state.message),s.a.createElement("div",{className:"post-cont"},s.a.createElement("button",{type:"submit",id:"submit",className:"btn btn-default"},"Update")))))),s.a.createElement(J,{refresh:this.getMyBoard})))}}]),a}(s.a.Component)),ee=(a(177),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleChange=function(t){var a;e.setState((a={},Object(V.a)(a,t.target.name,t.target.value),Object(V.a)(a,"isError",!1),Object(V.a)(a,"errorMsg",""),a))},e.onSignIn=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.email,s=n.password,t.next=4,L({email:r,password:s});case 4:if(o=t.sent,console.log("resp:",o),!o.user){t.next=12;break}return t.next=9,e.props.setUser();case 9:e.props.history.push("/"),t.next=13;break;case 12:e.setState({isError:!0,errorMsg:"Invalid Credentials",username:"",password:""});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderError=function(){e.state.isError;return e.state.isError?s.a.createElement("button",{type:"submit",id:"submit",className:"btn btn-default"},e.state.errorMsg):s.a.createElement("button",{type:"submit",id:"submit",className:"btn btn-default"},"Sign In")},e.state={email:"",password:"",isError:!1,errorMsg:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.state,a=t.email,n=t.password;return s.a.createElement("div",{id:"note_main"},s.a.createElement("img",{id:"background",className:"img-responsive",src:"https://i.imgur.com/V324XgZ.jpg",alt:"brown corkboard background"}),s.a.createElement("div",{className:"nav-bar"},s.a.createElement(z,{userId:this.props.userId})),s.a.createElement("div",{id:"yellow-note"}),s.a.createElement("main",{className:"login-form"},s.a.createElement("p",{className:"greeting"},"Nice to see you again!"),s.a.createElement("h1",{className:"login-header"},"Login"),s.a.createElement("form",{id:"login-input",onSubmit:this.onSignIn},s.a.createElement("label",{id:"label",htmlFor:"username"},"Your Email"),s.a.createElement("input",{type:"text",placeholder:"Enter your username",id:"input",required:!0,name:"email",value:a,onChange:this.handleChange}),s.a.createElement("label",{id:"label",htmlFor:"password"},"Password"),s.a.createElement("input",(e={type:"text",placeholder:"Enter your password",id:"input",name:"password",value:n},Object(V.a)(e,"type","password"),Object(V.a)(e,"onChange",this.handleChange),Object(V.a)(e,"required",!0),e)),this.renderError())))}}]),a}(r.Component)),te=Object(v.f)(ee),ae=(a(178),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleChange=function(t){var a;return e.setState((a={},Object(V.a)(a,t.target.name,t.target.value),Object(V.a)(a,"isError",!1),Object(V.a)(a,"errorMsg",""),a))},e.onSignUp=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.email,s=a.password;A({user:{name:n,email:r,password:s}}).then((function(){return L(e.state)})).then((function(){return e.props.setUser()})).catch((function(t){console.error(t),e.setState({name:"",email:"",password:"",passwordConfirmation:"",isError:!0,errorMsg:t})})),e.props.history.push("/")},e.renderError=function(){e.state.isError;return e.state.isError?s.a.createElement("button",{type:"submit",id:"submit",className:"btn btn-default"},e.state.errorMsg):s.a.createElement("button",{type:"submit",id:"submit",className:"btn btn-default"},"Sign Up")},e.state={name:"",email:"",password:"",passwordConfirmation:"",isError:!1,errorMsg:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=(e.username,e.password),n=e.passwordConfirmation;return s.a.createElement("div",{className:"note_main"},s.a.createElement("img",{id:"background",className:"img-responsive",src:"https://i.imgur.com/V324XgZ.jpg",alt:"brown corkboard background"}),s.a.createElement("div",{className:"nav-link"},s.a.createElement(z,{userId:this.props.userId})),s.a.createElement("div",{id:"blue-note"}),s.a.createElement("main",{className:"register-form"},s.a.createElement("h1",{className:"register-header"},"Register"),s.a.createElement("form",{id:"register-input",onSubmit:this.onSignUp},s.a.createElement("label",{id:"label",for:"name"},"Name"),s.a.createElement("input",{type:"text",placeholder:"Enter your name",name:"name",onChange:this.handleChange,id:"input",required:!0}),s.a.createElement("label",{id:"label",for:"username"},"Email"),s.a.createElement("input",{type:"email",placeholder:"Enter your email",id:"input",name:"email",value:t,onChange:this.handleChange,required:!0}),s.a.createElement("label",{id:"label",for:"password"},"Password"),s.a.createElement("input",{placeholder:"Enter your password",id:"input",name:"password",value:a,type:"password",onChange:this.handleChange,required:!0}),s.a.createElement("label",{id:"label",for:"password"},"Password Confirmation"),s.a.createElement("input",{required:!0,id:"input",name:"passwordConfirmation",value:n,type:"password",placeholder:"Confirm Password",onChange:this.handleChange}),this.renderError(),s.a.createElement("p",{id:"member-link"},"Already a member? Login ",s.a.createElement("a",{href:"/login"},"here"),"."))))}}]),a}(r.Component)),ne=Object(v.f)(ae),re=a(132),se=a.n(re),oe=localStorage.getItem("token")||null,ce=function(){return oe=localStorage.getItem("token")||null,function(){try{return se.a.verify(oe,"holocene_slaughter!666")}catch(e){return e}}()},le=(a(278),a(279),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setUser();case 1:case"end":return e.stop()}}),e)}))),n.setUser=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce().user;case 2:(t=e.sent)&&n.setState({userId:t.id,userEmail:t.email,userName:t.name,anonLikes:[]});case 4:case"end":return e.stop()}}),e)}))),n.clearUser=function(){n.setState({userId:null})},n.trackAnons=function(e){if(n.state.anonLikes.includes(e)){var t=n.state.anonLikes.filter((function(t){return t!=e}));n.setState({anonLikes:t})}else{var a=n.state.anonLikes.concat([e]);n.setState({anonLikes:a})}},n.state={userId:null,anonLikes:[]},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.userId?s.a.createElement(K,{userId:this.state.userId}):s.a.createElement(te,{setUser:this.setUser}),t=this.state.userId?s.a.createElement(Q,{userId:this.state.userId}):s.a.createElement(te,{setUser:this.setUser});return s.a.createElement("div",{className:"App"},s.a.createElement(v.c,null,s.a.createElement(v.a,{path:"/register"},s.a.createElement(ne,{setUser:this.setUser})),s.a.createElement(v.a,{path:"/login"},s.a.createElement(te,{setUser:this.setUser})),s.a.createElement(v.a,{path:"/logout"},s.a.createElement(B,{clearUser:this.clearUser})),s.a.createElement(v.a,{path:"/myboard"},e),s.a.createElement(v.a,{path:"/myprofile"},t),s.a.createElement(v.a,{path:"/"},s.a.createElement(Y,{userId:this.state.userId,anonLikes:this.state.anonLikes,trackAnons:this.trackAnons}))))}}]),a}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(l.a,null,s.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.6dc5ade5.chunk.js.map